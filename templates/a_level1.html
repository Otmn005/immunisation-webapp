
{% extends "base.html" %}

{% block title %}A-Level 1 - Landing Page{% endblock %}

{% block content %}
<section class="page-header">
    <h2>Welcome to Our Vaccination Data Portal</h2>
    <p>Discover key insights about global immunisation efforts and preventable infectious diseases.</p>
</section>

<!-- Error message display if database connection fails -->
{% if error_message %}
<div class="alert alert-error" role="alert" aria-live="polite">
    <strong>Error:</strong> {{ error_message }}
</div>
{% endif %}

<!-- Display 4 key vaccination insights as required -->
<section class="insights-grid">
    <h3>Key Vaccination Insights</h3>
    
    <div class="cards">
        <!-- Insight 1: Timeframe covered by database -->
        <article class="card insight-card">
            <div class="icon">ðŸ“…</div>
            <h4>Data Timeframe</h4>
            {% if year_range %}
            <p class="stat-large">{{ year_range }}</p>
            <p class="stat-label">Years of vaccination data available</p>
            {% else %}
            <p class="no-data">Data not available</p>
            {% endif %}
        </article>

        <!-- Insight 2: Total vaccination records -->
        <article class="card insight-card">
            <div class="icon">ðŸ’‰</div>
            <h4>Total Vaccination Records</h4>
            {% if total_vaccinations %}
            <p class="stat-large">{{ "{:,}".format(total_vaccinations) }}</p>
            <p class="stat-label">Vaccination data points in database</p>
            {% else %}
            <p class="no-data">Data not available</p>
            {% endif %}
        </article>

        <!-- Insight 3: Number of infectious diseases tracked -->
        <article class="card insight-card">
            <div class="icon">ðŸ¦ </div>
            <h4>Diseases Tracked</h4>
            {% if disease_count %}
            <p class="stat-large">{{ disease_count }}</p>
            <p class="stat-label">Preventable infectious diseases monitored</p>
            {% else %}
            <p class="no-data">Data not available</p>
            {% endif %}
        </article>

        <!-- Insight 4: List of all infectious diseases -->
        <article class="card insight-card full-width">
            <div class="icon">ðŸ“‹</div>
            <h4>Infectious Diseases Covered</h4>
            {% if diseases %}
            <div class="disease-list">
                {% for disease in diseases %}
                <span class="disease-tag">{{ disease['description'] }}</span>
                {% endfor %}
            </div>
            {% else %}
            <p class="no-data">No disease data available</p>
            {% endif %}
        </article>
    </div>
</section>

<!-- Mission overview -->
<section class="info-box">
    <h3>Our Mission</h3>
    <p>
        This dashboard provides comprehensive, unbiased information about global vaccination efforts 
        and preventable infectious diseases. We aim to empower health policymakers, researchers, 
        and educators with data-driven insights to improve public health outcomes worldwide.
    </p>
</section>

<!-- Call to action -->
<section class="cta-section">
    <h3>Explore the Data</h3>
    <div class="button-group">
        <a href="{{ url_for('a_level2') }}" class="btn btn-primary" aria-label="Analyze vaccination coverage">Analyze Vaccination Coverage</a>
        <a href="{{ url_for('b_level2') }}" class="btn btn-secondary" aria-label="View infection data">View Infection Data</a>
    </div>
</section>
{% endblock %}
